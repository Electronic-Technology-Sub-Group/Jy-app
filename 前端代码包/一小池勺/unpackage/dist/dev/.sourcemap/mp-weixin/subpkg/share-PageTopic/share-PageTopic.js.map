{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?8b10","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?c0d5","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?a556","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?1cfa","uni-app:///subpkg/share-PageTopic/share-PageTopic.vue","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?35e6","webpack:///C:/Users/86151/Desktop/项目2/一小池勺/subpkg/share-PageTopic/share-PageTopic.vue?14b9"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","itemId","userId","momentContent","momentPicture","serverUrl","ossImgsUrl","onLoad","console","mounted","uni","key","success","methods","submitAll","res","url","chooseImage","count","filePath","name","header","fail","deleteImage","title","content"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACsC;;;AAGpG;AACuL;AACvL,gBAAgB,gMAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAmsB,CAAgB,wtBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC8BvtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACAC;IACA;EACA;EACAC;IAAA;IACAC;MACAC;MACAC;QACAJ;QACA;MACA;IACA;EACA;EACAK;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAP;gBACA;kBACAE;oBACAM;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACAP;QACAQ;QACAN;UACAJ;UACAO;YACA;YACA;YACAL;cACAM;cAAA;cACAG;cAAA;cACAC;cAAA;cACAC;gBACA;gBACA;cACA;cACAT;gBACAJ;gBACA;gBACAA;gBACA;gBACA;cACA;cACAc;gBACAd;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAe;MAAA;MACAb;QACAc;QACAC;QACAb;UACA;YACA;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAA80C,CAAgB,2yCAAG,EAAC,C;;;;;;;;;;;ACAl2C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpkg/share-PageTopic/share-PageTopic.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/share-PageTopic/share-PageTopic.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./share-PageTopic.vue?vue&type=template&id=7dfb4620&scoped=true&\"\nvar renderjs\nimport script from \"./share-PageTopic.vue?vue&type=script&lang=js&\"\nexport * from \"./share-PageTopic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share-PageTopic.vue?vue&type=style&index=0&id=7dfb4620&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dfb4620\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/share-PageTopic/share-PageTopic.vue\"\nexport default component.exports","export * from \"-!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share-PageTopic.vue?vue&type=template&id=7dfb4620&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.momentPicture.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share-PageTopic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share-PageTopic.vue?vue&type=script&lang=js&\"","<template>\n <view class=\"container\">\n    <view class=\"container-header\">\n      <view @click=\"submitAll\" class=\"submit-btn\">发布</view>\n    </view>\n    <textarea\r\n\t   class=\"container-textarea\"\n       v-model=\"momentContent\"\n       placeholder=\"在这里你不用害怕被看见，可以释放你的分享欲...\"\n    >\n\t</textarea>\n    <view class=\"image-container\">\n        <!-- 将 + 图标也视为一个图片项 -->\n\t    <block v-for=\"(img, index) in ossImgsUrl\" :key=\"index\">\n\t\t\t<image\n\t\t\t  class=\"image-item\"\n\t\t\t  :src=\"img\"\n\t\t\t  style=\"padding: 5rpx;\"\n\t\t\t  @click=\"deleteImage(index)\"\n\t\t\t>\r\n\t\t\t</image>\n\t\t</block>\n      <view class=\"icon-container\" @tap=\"chooseImage\" style=\"padding: 5rpx;\" v-if=\"momentPicture.length < 9\">\n        <view class=\"image-addIcon\"></view>\n      </view>\n    </view>\n    <view class=\"container-footer\"></view>\n  </view>\n</template>\n<script>\r\nimport { addDynamicB } from '../../services/AboutDynamics.js'\nexport default {\n  data() {\n    return {\r\n\t  itemId: null,\r\n\t  userId: null,\n      momentContent: \"\", // 动态内容\n      momentPicture: [], // 选中的图片路径数组\r\n\t  serverUrl: \"http://localhost:8080/user/common/upload\", // 图片上传接口\r\n\t  ossImgsUrl: []\n    }\n  },\r\n  onLoad(options) {\r\n\t  console.log(options.itemId)\r\n\t  this.itemId = options.itemId\r\n  },\r\n  mounted() {\r\n\t  uni.getStorage({\r\n\t    key: 'userId',\r\n\t    success: (res) => {\r\n\t      console.log(res.data)\r\n\t  \t  this.userId = res.data\r\n\t    }\r\n\t  })\r\n  },\n  methods: {\r\n\tasync submitAll() {\r\n\t\tconst res = await addDynamicB(this.itemId, this.momentContent, this.ossImgsUrl, this.userId)\r\n\t\tconsole.log(res)\r\n\t\tif(res.code === 200) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `../../subpkg/hot-topic/hot-topic?itemId=${this.itemId}`\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tchooseImage() {\r\n\t\t// 选取图片列表\r\n\t\tuni.chooseImage({\r\n\t\t  count: 9,\r\n\t\t  success: (res) => {\r\n\t\t\tconsole.log(res.tempFilePaths);\r\n\t\t\tres.tempFilePaths.forEach((item, index) => {\r\n\t\t\t  this.momentPicture.push(item)\r\n\t\t\t  // 上传图片\r\n\t\t\t  uni.uploadFile({\r\n\t\t\t\turl: this.serverUrl, // 上传文件的接口地址\r\n\t\t\t\tfilePath: item, // 要上传的文件路径\r\n\t\t\t\tname: 'file', // 文件对应的key，后端可以通过这个key获取文件\r\n\t\t\t\theader: {\r\n\t\t\t\t  // 设置用户访问的token信息\r\n\t\t\t\t  \"authentication\": uni.getStorageSync('token')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (uploadRes) => {\r\n\t\t\t\t  console.log(uploadRes)\r\n\t\t\t\t  let data = JSON.parse(uploadRes.data) // 后端返回给我的是一个字符串，处理一下\r\n\t\t\t\t  console.log(data)\r\n\t\t\t\t  // 将得到的在线地址保存到要提交的图片列表里\r\n\t\t\t\t  this.ossImgsUrl.push(data.data)\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t  console.error(err);\r\n\t\t\t\t  // 在这里可以处理上传失败后的逻辑\r\n\t\t\t\t}\r\n\t\t\t  });\r\n\t\t\t});\r\n\t\t  },\r\n\t\t});\r\n\t},\n    deleteImage(index) {\n      uni.showModal({\n        title: \"提示\",\n        content: \"确定要删除这张图片吗？\",\n        success: (res) => {\n          if (res.confirm) {\n            this.momentPicture.splice(index, 1)\n          }\n        },\n      })\n    },\n\n  }\r\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .container {\r\n\twidth: 90vw;\r\n\tmargin: 0 auto;\r\n\t\n    .container-header {\n      display: flex;\n      height: 50rpx;\n      width: 100%;\n      justify-content: flex-end;\n      .submit-btn {\n        width: 120rpx;\n        height: 50rpx;\n        background-color: deepskyblue;\n        color: #fff;\n        font-size: x-small;\n        text-align: center;\n        line-height: 50rpx;\n        border-radius: 20rpx;\n        margin: 20rpx 20rpx 0 0;\n      }\n    }\n    .container-textarea {\n      width: 100%;\r\n\t  box-shadow: 1px 1px 7rpx 2rpx rgba(0, 0, 0, 0.1);\n      margin-top: 35rpx;\r\n\t  border-radius: 20rpx;\r\n\t  box-sizing: border-box;\r\n\t  padding: 30rpx;\r\n    }\n    .image-container {\n      width: 100%;\r\n\t  box-sizing: border-box;\n      display: flex;\n      flex-wrap: wrap;\r\n\t  margin-top: 30rpx;\n      .image-item {\n        width: 30%;\n        height: 200rpx;\n      }\n      .icon-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 30%;\n        height: 200rpx;\r\n\t\tborder-radius: 15rpx;\n        background-color: #eee;\n        .image-addIcon {\n          width: 80rpx;\n          height: 80rpx;\n          background-color: rgba(0,0,0,.2);\n          border-radius: 50%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n\n          &::before,\n          &::after {\n            content: \"\";\n            position: absolute;\n            width: 60rpx;\n            height: 8rpx;\n            background-color: white;\n            border-radius: 4rpx;\n          }\n\n          &::before {\n            transform: rotate(90deg);\n          }\n        }\n      }\n    }\n    .container-footer {\n\t\theight: 200rpx;\n\t}\n  }\n</style>","import mod from \"-!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share-PageTopic.vue?vue&type=style&index=0&id=7dfb4620&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\LeStoreDownload\\\\HBuilder X\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share-PageTopic.vue?vue&type=style&index=0&id=7dfb4620&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1702648844758\n      var cssReload = require(\"D:/LeStoreDownload/HBuilder X/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}